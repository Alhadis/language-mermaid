".source.mermaid":
	editor:
		commentStart: "%% "
		increaseIndentPattern: """(?x)
			(?:^|\\s|;)
			( {
			| classDiagram (?:-v2)?
			| erDiagram
			| flowchart    (?:-v2)?
			| graph
			| sequenceDiagram
			| stateDiagram (?:-v2)?
			) (?=$|\\s)(?!.*;[ \\t]*\\S)
		"""
		decreaseIndentPattern: """(?x)
			(?:^|\\s|;)
			(}|end)
			(?=$|\\s)
		"""

".source.mermaid .meta.flowchart":
	editor:
		increaseIndentPattern: """(?x)
			(?:^|\\s|;)
			( flowchart(?:-v2)?
			| graph
			| subgraph
			) (?=$|\\s)(?!.*;[ \\t]*\\S)
		"""

".source.mermaid .meta.sequence-diagram":
	editor:
		increaseIndentPattern: """(?ix)
			(?:^|\\s|;)
			( break
			| critical
			| loop
			| opt
			| par
			| rect
			| sequenceDiagram
			) (?=$|\\s)(?!.*;[ \\t]*\\S)
		"""
		decreaseIndentPattern: """(?ix)
			(?:^|\\s|;)
			(?:
				end (?=$|\\s)
				|
				( and
				| else
				| option
				) (?=$|\\s)(?!.*;[ \\t]*\\S)
			)
		"""

".source.mermaid .meta.state-diagram":
	editor:
		increaseIndentPattern: "(?:^|\\s|;)(stateDiagram(?:-v2)?|{|note(?=$|\\s)[^:]*$)"
		decreaseIndentPattern: "(?:^|\\s|;)(?:end\\s+note(?:$|\\s)|})"
